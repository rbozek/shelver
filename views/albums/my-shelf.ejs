<%- include('../partials/html-head') %>
<%- include('../partials/nav') %>

<main>
  <h1><%= title %></h1>
  <p>[🔎 to view album details. ❌ to remove from My Shelf.]</p>
  <table id="shelf-display-normal">
    <thead>
      <tr>
        <th>Title</th>
        <th>Artist</th>
        <th>Year</th>
        <th>Record Label</th>
        <th></th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <% albums.forEach((album) => { %>
      <tr>
        <td><%= album.title %></td>
        <td><%= album.artist %></td>
        <td><%= album.releaseYear %></td>
        <td><%= album.recordLabel %></td>
        <td>
          <form action="/albums/<%= album._id %>" method="GET">
            <button class="my-shelf-buttons" type="submit">🔎</button>
          </form>
        </td>
        <td>
          <form 
          id="form-temp-name" 
          action="/albums/<%= album._id %>/removeFromMyShelf?_method=DELETE" 
          method="POST"
          >
            <button class="my-shelf-buttons" type="submit">❌</button>
          </form>
        </td>
      </tr>
      <% }) %>
    </tbody>
  </table>

  <container id="shelf-display-small">
    <% albums.forEach((album) => { %>
      <div style="display: flex;">
        <i><%= album.title %></i> - 
        <%= album.artist %>
        &nbsp;&nbsp;
        <form action="/albums/<%= album._id %>" method="GET">
          <button class="my-shelf-buttons" type="submit">🔎</button>
        </form>
        &nbsp;
        <form 
        id="form-temp-name" 
        action="/albums/<%= album._id %>/removeFromMyShelf?_method=DELETE" 
        method="POST"
        >
          <button class="my-shelf-buttons" type="submit">❌</button>
        </form>
      </div>
      <div>
        <%= album.releaseYear %> - 
        <%= album.recordLabel %>
      </div>
    <br>
    <% }) %>
  </container>

</main>

<%- include('../partials/footer') %>
